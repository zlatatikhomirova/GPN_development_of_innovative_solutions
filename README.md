# GPN Intelligence Cup 2024. Data Scientist в разработке инновационных решений

# О задаче
В очень сказочной манере предстояло решить задачу регрессии по предсказанию Гармонии бессмертия.
* Таргет: Гармония Бессмертия
 * суть: показатель изношенности портала, если портал изношен, портал может разрушиться и от этого многим будет плохо

## Задача:
спрогнозировать состояние портала, чтобы успеть предотвратить его разрушение

Для построения модели у нас есть несколько предикторов.

## Предикторы

* Вектор мощи
* Скорость перехода через портал
* Приток силы потока
* Ритм магического ядра
* Поток энергий
* Сила левого потока
* Сила правого потока
* Пламя стихий
* Температура вдоха истока
* Температура выдоха истока
* Приток давления выдоха истока
* Давление вдоха истока
* Давление выдоха истока
* Древний ветер
* Печать чародея
* Эмульсия истока
* Дыхание истока

## Рекомендации по обработке данных
1. Мультиколлинеарность посмотреть
2. Взаимосвязи между признаками поискать
3. При необходимости, создать новые фичи, на основе имеющихся.
4. Признак значим? Может, уберем что-то? Авось лучше станет!

## Дополнительные рекомендации по работе с данными

1. Общая мощность потоков = сила левого потока + сила правого потока
2. df = df[Общая мощность потоков, сила левого потока, сила правого потока, приток силы потока]
По идее, общая мощность потоков - сколько магической силы прохолит в единицу времени (минуту)?
3. Общая сила ядра = Ритм магического ядра * Приток силы потока
4. Общее давление на выходе = Приток давления выхода истока + Давление выхода истока
5. Магическая производительность = скорость перехода через портал / эмульсия истока
6. Эффективность ядра = общая сила ядра / эмульсия истока
7. Магическая мощность = эмульсия истока * общее давление * (пламя стихий - температура вдоха истока)
8. Степень износа магических источников = Дыхание истока / Гармония Бессмертия
9. Расхождения в стабильности магии = abs(Дыхание истока - Гармония Бессмертия)
10. Баланс угасания = ( Дыхание истока - Гармония Бессмертия) / Скорость перехода через портал


# Как это должно выглядеть:
IPython Notebook <- EDA + модель
1. Работа логично структурирована.
2. Есть логичные заголовки.
3. Каждый значимый график имеет пояснение.
4. Аргументировать построение моделей.
5. Объяснить ход мыслей при выборе методов, основываясь на метриках ошибки.
6. Выбрать модель с наименьшей ошибкой по выбранной метрике.
7. Подвести итоги, отразив ключевые выводы и результаты.

# Результаты и выводы
Предикторы сильно коррелированы. Есть предикторы, которые связаны друг с другом разными тимпами связи. И эти связи можно кластеризовать по значениям Вектора Мощи, который, в свою очередь, имеет однозначное значение скорости перехода через портал. Для обработки мультиколлинеарности использовали самый простой метод - PCA. Было бы интересно поподбирать обратные функции для обработки нелинейных зависимостей и попробовать другие методы кластеризации, а также сделать график для интерпретации компонент, как в R (мы сделали heatmap). 

В итоге получилось, что лучше всех отбработала модель ligthGBM, что вполне ожидаемо, ввиду особенностей реализации этой модели (и самого алгоритма, конечно же). Метрики для неё были наилучшими, в сравнении с метриками для других моделей (и визуальный тест совпадения предсказанных и реальных данных тоже). R2 ~ 0.99, MSE ~ 0,  MAE ~ 0,  MAPE ~ 0.

